# üëë –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –†–æ–ª–∏ –≤ –±–æ—Ç–µ

### 1. üë§ **User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)**
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**

**–†–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ –ü–æ–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–ù–µ –º–æ–∂–µ—Ç:**
- ‚ùå –î–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã
- ‚ùå –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚ùå –í–∏–¥–µ—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

### 2. üõç **Seller (–ü—Ä–æ–¥–∞–≤–µ—Ü)**
**–ü—Ä–æ–¥–∞–≤–µ—Ü —Ç–æ–≤–∞—Ä–æ–≤**

**–†–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
- ‚úÖ –í—Å—ë —á—Ç–æ —É User
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–∞–ª–æ–≥
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Ç–æ–≤–∞—Ä—ã
- ‚úÖ –£–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ —Ç–æ–≤–∞—Ä—ã
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–≤–æ–∏—Ö –ø—Ä–æ–¥–∞–∂

**–ù–µ –º–æ–∂–µ—Ç:**
- ‚ùå –£–ø—Ä–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚ùå –£–¥–∞–ª—è—Ç—å —á—É–∂–∏–µ —Ç–æ–≤–∞—Ä—ã
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã/–∫–≤–µ—Å—Ç—ã

**–ö–æ–º–∞–Ω–¥—ã:**
- `/god` - –¥–æ—Å—Ç—É–ø –∫ –º–µ–Ω—é –ø—Ä–æ–¥–∞–≤—Ü–∞
  - ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
  - üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

### 3. üõ° **Moderator (–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä)**
**–ü–æ–º–æ—â–Ω–∏–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**

**–†–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
- ‚úÖ –í—Å—ë —á—Ç–æ —É Seller
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –í–°–ï–ú–ò —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–∏–∫–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–ù–µ –º–æ–∂–µ—Ç:**
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–≤–µ—Å—Ç—ã/–∫–≤–∏–∑—ã
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ö–æ–º–∞–Ω–¥—ã:**
- `/god` - –¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–¥–º–∏–Ω–∫–µ
  - ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
  - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  - üé´ –¢–∏–∫–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

---

### 4. üëë **Admin (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)**
**–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É**

**–†–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
- ‚úÖ –í—Å—ë —á—Ç–æ —É Moderator
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–≤–∏–∑–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∑–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –†–∞—Å—Å—ã–ª–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞–º–∏/–≥–æ—Ä–æ–¥–∞–º–∏
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞

**–ö–æ–º–∞–Ω–¥—ã:**
- `/god` - –¥–æ—Å—Ç—É–ø –∫–æ –í–°–ï–ô –∞–¥–º–∏–Ω–∫–µ

---

## –ö–∞–∫ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å

### –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É:

1. `/god` ‚Üí üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
2. –í—ã–±—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ù–∞–∂–∞—Ç—å "üëë –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å"
4. –í—ã–±—Ä–∞—Ç—å –Ω–æ–≤—É—é —Ä–æ–ª—å

### –†–æ–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```sql
UPDATE users SET role = 'seller' WHERE id = 123456789;
UPDATE users SET role = 'moderator' WHERE id = 123456789;
UPDATE users SET role = 'admin' WHERE id = 123456789;
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

–í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `role_service`:

```python
from services.role_service import role_service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
has_perm = await role_service.check_user_permission(
    session, 
    user_id, 
    'add_product'
)

if not has_perm:
    await message.answer("‚õîÔ∏è –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞")
    return
```

---

## –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

- `buy` - –ø–æ–∫—É–ø–∞—Ç—å —Ç–æ–≤–∞—Ä—ã
- `view_catalog` - –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥
- `add_product` - –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã
- `edit_product` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã
- `delete_product` - —É–¥–∞–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã
- `manage_users` - —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `view_tickets` - –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–∏–∫–µ—Ç—ã
- `reply_tickets` - –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Ç–∏–∫–µ—Ç—ã
- `view_stats` - –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- `all` - –≤—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–¥–∞–≤–µ—Ü –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä
1. –ü–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å "seller" –æ—Ç –∞–¥–º–∏–Ω–∞
2. `/god` ‚Üí –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É "‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä"
3. –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã
4. –ù–ï –≤–∏–¥–∏—Ç "üé´ –ü—Ä–æ–º–æ–∫–æ–¥—ã" –∏ –¥—Ä—É–≥–∏–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 2: –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
1. –ü–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å "moderator" –æ—Ç –∞–¥–º–∏–Ω–∞
2. `/god` ‚Üí –≤–∏–¥–∏—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –º–µ–Ω—é
3. –ú–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. –ú–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Ç–∏–∫–µ—Ç—ã
5. –ù–ï –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥—ã

### –ü—Ä–∏–º–µ—Ä 3: –ê–¥–º–∏–Ω –¥–µ–ª–∞–µ—Ç –≤—Å—ë
1. –†–æ–ª—å "admin"
2. `/god` ‚Üí –ø–æ–ª–Ω–æ–µ –º–µ–Ω—é
3. –î–æ—Å—Ç—É–ø–Ω—ã –í–°–ï —Ñ—É–Ω–∫—Ü–∏–∏
4. –ú–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å —Ä–æ–ª–∏ –¥—Ä—É–≥–∏–º

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–†–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–π—Å—Ç–≤–∏–∏**  
‚úÖ **–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Ä–æ–ª–∏**  
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π**  

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–µ–ª—å–∑—è –ø–æ–Ω–∏–∑–∏—Ç—å —Å–≤–æ—é —Ä–æ–ª—å
- –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–¥–º–∏–Ω–∞
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–†–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤:
- –í—Å–µ—Ö admin handlers
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –ü—Ä–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤/–∫–≤–µ—Å—Ç–æ–≤
- –ü—Ä–∏ —Ä–∞—Å—Å—ã–ª–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

---

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏! üéâ

