# ะกะฟะธัะพะบ ัะฐะนะปะพะฒ ะฟัะพะตะบัะฐ

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
bot2/
โ
โโโ ๐ START_HERE.md              โญ ะะะงะะะขะ ะก ะญะขะะะ ะคะะะะ
โโโ ๐ QUICKSTART.md              ๐ ะัััััะน ััะฐัั (10 ะผะธะฝัั)
โโโ ๐ SETUP.md                   โ๏ธ ะะพัะฐะณะพะฒะฐั ะฝะฐัััะพะนะบะฐ
โโโ ๐ README.md                  ๐ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
โโโ ๐ SOLANA_SETUP.md            ๐ฐ ะะฐัััะพะนะบะฐ Solana
โโโ ๐ DEPLOYMENT.md              ๐ ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฝะฐ ัะตัะฒะตัะต
โโโ ๐ OVERVIEW.md                ๐บ ะะฑะทะพั ะฐััะธัะตะบัััั
โโโ ๐ PROJECT_FILES.md           ๐ ะญัะพั ัะฐะนะป
โ
โโโ ๐ main.py                    ๐ค ะะปะฐะฒะฝัะน ัะฐะนะป ะฑะพัะฐ
โโโ ๐ monitor_transactions.py    ๐ ะะพะฝะธัะพัะธะฝะณ ััะฐะฝะทะฐะบัะธะน
โโโ ๐ init_db.py                 ๐พ ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั
โโโ ๐ config.py                  โ๏ธ ะะพะฝัะธะณััะฐัะธั
โ
โโโ ๐ create_wallet.py           ๐ผ ะกะพะทะดะฐะฝะธะต Solana ะบะพัะตะปัะบะฐ
โโโ ๐ test_connection.py         โ ะขะตัั ะฟะพะดะบะปััะตะฝะธั
โ
โโโ ๐ requirements.txt           ๐ฆ Python ะทะฐะฒะธัะธะผะพััะธ
โโโ ๐ .gitignore                 ๐ซ ะัะบะปััะตะฝะธั ะดะปั git
โโโ ๐ LICENSE                    โ๏ธ ะะธัะตะฝะทะธั (MIT)
โ
โโโ ๐ bot.service                ๐ง Systemd ัะตัะฒะธั (Linux)
โโโ ๐ monitor.service            ๐ง Systemd ะผะพะฝะธัะพั (Linux)
โ
โโโ ๐ database/                  ๐พ ะะฐะทะฐ ะดะฐะฝะฝัั
โ   โโโ __init__.py
โ   โโโ models.py                 ๐ ORM ะผะพะดะตะปะธ
โ   โโโ database.py               ๐ ะะพะดะบะปััะตะฝะธะต ะบ ะะ
โ
โโโ ๐ services/                  ๐ง ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ __init__.py
โ   โโโ wallet_service.py         ๐ฐ Solana ะบะพัะตะปัะบะธ
โ   โโโ user_service.py           ๐ค ะะพะปัะทะพะฒะฐัะตะปะธ
โ   โโโ image_service.py          ๐ผ๏ธ ะขะพะฒะฐัั
โ   โโโ transaction_service.py    ๐ธ ะขัะฐะฝะทะฐะบัะธะธ
โ   โโโ location_service.py       ๐ ะะตะณะธะพะฝั/ะณะพัะพะดะฐ
โ
โโโ ๐ handlers/                  ๐ฎ ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด
โ   โโโ __init__.py
โ   โโโ user_handlers.py          ๐ค ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ะบะพะผะฐะฝะดั
โ   โโโ admin_handlers.py         ๐ ะะดะผะธะฝ-ะฟะฐะฝะตะปั
โ   โโโ catalog_handlers.py       ๐๏ธ ะะฐัะฐะปะพะณ ะธ ะฟะพะบัะฟะบะธ
โ   โโโ wallet_handlers.py        ๐ฐ ะะฐะปะฐะฝั ะธ ะพะฟะตัะฐัะธะธ
โ
โโโ ๐ middleware/                ๐ ะัะพะผะตะถััะพัะฝัะต ะพะฑัะฐะฑะพััะธะบะธ
โ   โโโ __init__.py
โ   โโโ user_middleware.py        ๐ ะะฒัะพ-ัะตะณะธัััะฐัะธั
โ
โโโ ๐ utils/                     ๐๏ธ ะฃัะธะปะธัั
โ   โโโ __init__.py
โ   โโโ keyboards.py              โจ๏ธ ะะปะฐะฒะธะฐัััั ะฑะพัะฐ
โ   โโโ helpers.py                ๐ง ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
โ
โโโ ๐ images/                    ๐ผ๏ธ ะะฐะณััะถะตะฝะฝัะต ะธะทะพะฑัะฐะถะตะฝะธั
    (ัะพะทะดะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ)
```

## ๐ ะะฟะธัะฐะฝะธะต ะพัะฝะพะฒะฝัั ัะฐะนะปะพะฒ

### ะะพะบัะผะตะฝัะฐัะธั (ะฝะฐัะฝะธัะต ั ะฝะธั!)

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต | ะัะตะผั ััะตะฝะธั |
|------|-----------|--------------|
| **START_HERE.md** | ะะตัะฒัะน ัะฐะนะป ะดะปั ะพะทะฝะฐะบะพะผะปะตะฝะธั | 2 ะผะธะฝ |
| **QUICKSTART.md** | ะัััััะน ะทะฐะฟััะบ ะทะฐ 10 ะผะธะฝัั | 10 ะผะธะฝ |
| **SETUP.md** | ะะตัะฐะปัะฝะฐั ะฟะพัะฐะณะพะฒะฐั ะฝะฐัััะพะนะบะฐ | 20 ะผะธะฝ |
| **README.md** | ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ | 30 ะผะธะฝ |
| **SOLANA_SETUP.md** | ะะฐัััะพะนะบะฐ Solana ะบะพัะตะปัะบะพะฒ | 15 ะผะธะฝ |
| **DEPLOYMENT.md** | ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฝะฐ ะฟัะพะดะฐะบัะตะฝ | 1 ัะฐั |
| **OVERVIEW.md** | ะััะธัะตะบัััะฐ ะธ ะพะฑะทะพั | 10 ะผะธะฝ |

### ะัะฝะพะฒะฝัะต ะธัะฟะพะปะฝัะตะผัะต ัะฐะนะปั

| ะคะฐะนะป | ะะพะผะฐะฝะดะฐ | ะะฐะทะฝะฐัะตะฝะธะต |
|------|---------|-----------|
| **create_wallet.py** | `python create_wallet.py` | ะกะพะทะดะฐะฝะธะต Solana ะบะพัะตะปัะบะฐ |
| **test_connection.py** | `python test_connection.py` | ะัะพะฒะตัะบะฐ ะฝะฐัััะพะนะบะธ |
| **init_db.py** | `python init_db.py` | ะะฝะธัะธะฐะปะธะทะฐัะธั ะะ |
| **main.py** | `python main.py` | ะะฐะฟััะบ ะฑะพัะฐ |
| **monitor_transactions.py** | `python monitor_transactions.py` | ะะพะฝะธัะพั ััะฐะฝะทะฐะบัะธะน |

### ะะพะฝัะธะณััะฐัะธั

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-----------|
| **config.py** | ะะฐะณััะทะบะฐ ะฝะฐัััะพะตะบ ะธะท .env |
| **.env** | ะะฐัััะพะนะบะธ (ัะพะทะดะฐะนัะต ัะฐะผะธ!) |
| **requirements.txt** | Python ะทะฐะฒะธัะธะผะพััะธ |
| **.gitignore** | ะัะบะปััะตะฝะธั ะดะปั git |

### ะะฐะทะฐ ะดะฐะฝะฝัั (`/database`)

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-----------|
| **models.py** | ORM ะผะพะดะตะปะธ: User, Region, City, Image, Transaction, Purchase |
| **database.py** | ะะพะดะบะปััะตะฝะธะต ะบ ะะ, ัะตััะธะธ |

### ะกะตัะฒะธัั (`/services`)

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-----------|
| **wallet_service.py** | ะะฐะฑะพัะฐ ั Solana: ัะพะทะดะฐะฝะธะต ะบะพัะตะปัะบะพะฒ, ะฟะตัะตะฒะพะดั, ะฟัะพะฒะตัะบะฐ ะฑะฐะปะฐะฝัะฐ |
| **user_service.py** | CRUD ะพะฟะตัะฐัะธะธ ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ |
| **image_service.py** | ะฃะฟัะฐะฒะปะตะฝะธะต ัะพะฒะฐัะฐะผะธ, ะฟะพะบัะฟะบะฐะผะธ |
| **transaction_service.py** | ะฃะฟัะฐะฒะปะตะฝะธะต ััะฐะฝะทะฐะบัะธัะผะธ |
| **location_service.py** | ะฃะฟัะฐะฒะปะตะฝะธะต ัะตะณะธะพะฝะฐะผะธ ะธ ะณะพัะพะดะฐะผะธ |

### ะะฑัะฐะฑะพััะธะบะธ (`/handlers`)

| ะคะฐะนะป | ะะพะผะฐะฝะดั |
|------|---------|
| **user_handlers.py** | /start, /help, ะฒัะฑะพั ัะตะณะธะพะฝะฐ |
| **admin_handlers.py** | /admin, ะดะพะฑะฐะฒะปะตะฝะธะต ัะพะฒะฐัะพะฒ, ััะฐัะธััะธะบะฐ |
| **catalog_handlers.py** | ะะฐัะฐะปะพะณ, ะฟัะพัะผะพัั, ะฟะพะบัะฟะบะฐ ัะพะฒะฐัะพะฒ |
| **wallet_handlers.py** | ะะฐะปะฐะฝั, ะดะตะฟะพะทะธัั, ะฒัะฒะพะดั |

### Middleware (`/middleware`)

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-----------|
| **user_middleware.py** | ะะฒัะพะผะฐัะธัะตัะบะฐั ัะตะณะธัััะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะฟัะธ ะฟะตัะฒะพะผ ะพะฑัะฐัะตะฝะธะธ |

### ะฃัะธะปะธัั (`/utils`)

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-----------|
| **keyboards.py** | ะัะต ะบะปะฐะฒะธะฐัััั ะดะปั ะฑะพัะฐ (ะบะฝะพะฟะบะธ, ะธะฝะปะฐะนะฝ-ะบะฝะพะฟะบะธ) |
| **helpers.py** | ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ (ัะพัะผะฐัะธัะพะฒะฐะฝะธะต, ะฒะฐะปะธะดะฐัะธั) |

## ๐ฆ ะะฐะฒะธัะธะผะพััะธ (requirements.txt)

```
aiogram==3.3.0              # Telegram Bot ััะตะนะผะฒะพัะบ
sqlalchemy==2.0.25          # ORM ะดะปั ะะ
aiosqlite==0.19.0           # Async SQLite
python-dotenv==1.0.0        # ะะฐะณััะทะบะฐ .env
solana==0.30.2              # Solana Python SDK
solders==0.18.1             # Solana types
base58==2.1.1               # Base58 ะบะพะดะธัะพะฒะฐะฝะธะต
cryptography==41.0.7        # ะจะธััะพะฒะฐะฝะธะต
aiofiles==23.2.1            # Async ัะฐะนะปั
pillow==10.1.0              # ะะฑัะฐะฑะพัะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
pydantic==2.5.3             # ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั
pydantic-settings==2.1.0    # ะะฐัััะพะนะบะธ
```

## ๐ง ะกะธััะตะผะฝัะต ัะฐะนะปั (Linux)

| ะคะฐะนะป | ะะฐะทะฝะฐัะตะฝะธะต |
|------|-----------|
| **bot.service** | Systemd ัะตัะฒะธั ะดะปั ะฐะฒัะพะทะฐะฟััะบะฐ ะฑะพัะฐ |
| **monitor.service** | Systemd ัะตัะฒะธั ะดะปั ะผะพะฝะธัะพัะฐ ััะฐะฝะทะฐะบัะธะน |

## ๐ ะคะฐะนะปั, ะบะพัะพััะต ัะพะทะดะฐะดัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ

| ะคะฐะนะป/ะะฐะฟะบะฐ | ะะพะณะดะฐ ัะพะทะดะฐะตััั | ะะฐะทะฝะฐัะตะฝะธะต |
|------------|----------------|-----------|
| **bot.db** | ะัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต | ะะฐะทะฐ ะดะฐะฝะฝัั SQLite |
| **wallet_encryption.key** | ะัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต | ะะปัั ัะธััะพะฒะฐะฝะธั ะบะพัะตะปัะบะพะฒ |
| **images/** | ะัะธ ะทะฐะณััะทะบะต ัะพะฒะฐัะฐ | ะะฐะฟะบะฐ ั ะธะทะพะฑัะฐะถะตะฝะธัะผะธ |
| **bot.log** | ะัะธ ะทะฐะฟััะบะต (ะพะฟัะธะพะฝะฐะปัะฝะพ) | ะะพะณะธ ะฑะพัะฐ |

## ๐ซ ะคะฐะนะปั, ะบะพัะพััะต ะะ ะดะพะปะถะฝั ะฟะพะฟะฐััั ะฒ git

ะญัะธ ัะฐะนะปั ะธัะบะปััะตะฝั ะฒ `.gitignore`:

- **.env** - ะฒะฐัะธ ัะตะบัะตัะฝัะต ะบะปััะธ
- **bot.db** - ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **wallet_encryption.key** - ะบะปัั ัะธััะพะฒะฐะฝะธั
- **images/** - ะทะฐะณััะถะตะฝะฝัะต ะธะทะพะฑัะฐะถะตะฝะธั
- **venv/** - ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
- **__pycache__/** - Python cache
- **.log** - ัะฐะนะปั ะปะพะณะพะฒ

## ๐ ะกัะฐัะธััะธะบะฐ ะฟัะพะตะบัะฐ

- **ะัะตะณะพ ัะฐะนะปะพะฒ ะบะพะดะฐ**: ~25
- **ะัะตะณะพ ัััะพะบ ะบะพะดะฐ**: ~3000+
- **ะคะฐะนะปะพะฒ ะดะพะบัะผะตะฝัะฐัะธะธ**: 8
- **ะกััะพะบ ะดะพะบัะผะตะฝัะฐัะธะธ**: ~2500+
- **ะฏะทัะบะธ**: Python, Markdown
- **ะะพะดัะปะตะน**: aiogram, solana, sqlalchemy

## ๐ฏ ะะฐะบะธะต ัะฐะนะปั ะธะทััะฐัั ะฟะตัะฒัะผะธ?

### ะะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน (ะทะฐะฟััะบ ะฑะพัะฐ):
1. โญ **START_HERE.md** - ะฝะฐัะฝะธัะต ะทะดะตัั!
2. ๐ **QUICKSTART.md** - ะฑัััััะน ััะฐัั
3. ๐ **README.md** - ะฟะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

### ะะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ (ะธะทััะตะฝะธะต ะบะพะดะฐ):
1. ๐ **OVERVIEW.md** - ะฐััะธัะตะบัััะฐ
2. ๐ **main.py** - ัะพัะบะฐ ะฒัะพะดะฐ
3. ๐ **database/models.py** - ััััะบัััะฐ ะดะฐะฝะฝัั
4. ๐ **services/** - ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ
5. ๐ **handlers/** - ะปะพะณะธะบะฐ ะบะพะผะฐะฝะด

### ะะปั ัะฐะทะฒะตัััะฒะฐะฝะธั:
1. ๐ **DEPLOYMENT.md** - ะฟะพะปะฝะพะต ััะบะพะฒะพะดััะฒะพ
2. ๐ **bot.service** - ะฝะฐัััะพะนะบะฐ systemd
3. ๐ **SOLANA_SETUP.md** - ะฝะฐัััะพะนะบะฐ ะบะพัะตะปัะบะพะฒ

## ๐ ะะพะธัะบ ะฟะพ ัะฐะนะปะฐะผ

### ะัะถะฝะพ ะฝะฐะนัะธ...

**...ะณะดะต ะพะฑัะฐะฑะฐััะฒะฐะตััั ะบะพะผะฐะฝะดะฐ /start?**
โ `handlers/user_handlers.py`

**...ะณะดะต ัะพะทะดะฐัััั ะบะพัะตะปัะบะธ?**
โ `services/wallet_service.py`

**...ะณะดะต ะพะฟัะตะดะตะปะตะฝั ะผะพะดะตะปะธ ะะ?**
โ `database/models.py`

**...ะณะดะต ะฝะฐัััะฐะธะฒะฐัััั ะบะปะฐะฒะธะฐัััั?**
โ `utils/keyboards.py`

**...ะบะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒัั ะบะพะผะฐะฝะดั?**
โ ะกะพะทะดะฐะนัะต handler ะฒ `handlers/` ะธ ะทะฐัะตะณะธัััะธััะนัะต ะฒ `handlers/__init__.py`

**...ะบะฐะบ ะธะทะผะตะฝะธัั ัะตะบัั ัะพะพะฑัะตะฝะธะน?**
โ ะะฐะนะดะธัะต ะฝัะถะฝัะน handler ะฒ `handlers/` ะธ ะธะทะผะตะฝะธัะต ัััะพะบะธ

**...ะบะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒะพะต ะฟะพะปะต ะฒ User?**
โ ะะทะผะตะฝะธัะต `database/models.py` โ ะบะปะฐัั User

**...ะบะฐะบ ะฝะฐัััะพะธัั RPC endpoint?**
โ ะะทะผะตะฝะธัะต `SOLANA_RPC_URL` ะฒ `.env`

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

### ะะฝัััะตะฝะฝะธะต:
- ะะพะผะผะตะฝัะฐัะธะธ ะฒ ะบะพะดะต
- Docstrings ะฒ ััะฝะบัะธัั
- Type hints ะฒ Python

### ะะฝะตัะฝะธะต:
- [Aiogram Docs](https://docs.aiogram.dev/)
- [Solana Docs](https://docs.solana.com/)
- [SQLAlchemy Docs](https://docs.sqlalchemy.org/)

## ๐ก ะกะพะฒะตัั ะฟะพ ะฝะฐะฒะธะณะฐัะธะธ

1. **ะะฐัะฝะธัะต ั ะดะพะบัะผะตะฝัะฐัะธะธ** (`START_HERE.md`)
2. **ะัะฟะพะปัะทัะนัะต ะฟะพะธัะบ** ะฒ ะฒะฐัะตะน IDE (Ctrl+Shift+F)
3. **ะงะธัะฐะนัะต ะบะพะผะผะตะฝัะฐัะธะธ** ะฒ ะบะพะดะต
4. **ะกะปะตะดัะนัะต imports** ะดะปั ะฟะพะฝะธะผะฐะฝะธั ัะฒัะทะตะน
5. **ะกะผะพััะธัะต ะฟัะธะผะตัั** ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฒ handlers

## ๐ ะะพัะพะฒั ะฝะฐัะฐัั?

```bash
# ะจะฐะณ 1: ะัะพัะธัะฐะนัะต START_HERE.md
cat START_HERE.md

# ะจะฐะณ 2: ะกะพะทะดะฐะนัะต ะบะพัะตะปะตะบ
python create_wallet.py

# ะจะฐะณ 3: ะะฐัััะพะนัะต .env (ัะผ. SETUP.md)

# ะจะฐะณ 4: ะะฐะฟัััะธัะต ัะตัั
python test_connection.py

# ะจะฐะณ 5: ะะฝะธัะธะฐะปะธะทะธััะนัะต ะะ
python init_db.py

# ะจะฐะณ 6: ะะฐะฟัััะธัะต ะฑะพัะฐ
python main.py
```

---

**ะฃะดะฐัะธ ั ะฟัะพะตะบัะพะผ!** ๐

ะัะปะธ ะฝัะถะฝะฐ ะฟะพะผะพัั - ัะผะพััะธัะต ัะฐะทะดะตะป "Troubleshooting" ะฒ README.md

