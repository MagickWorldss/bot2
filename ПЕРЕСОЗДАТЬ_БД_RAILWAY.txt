🔧 ИНСТРУКЦИЯ: ПЕРЕСОЗДАНИЕ БАЗЫ ДАННЫХ НА RAILWAY

═══════════════════════════════════════════════════════════

⚠️ ПРОБЛЕМА:
Колонка quests.created_at не существует в базе данных.
Модель обновлена, но база данных старая.

═══════════════════════════════════════════════════════════

✅ РЕШЕНИЕ: Пересоздать PostgreSQL базу данных

═══════════════════════════════════════════════════════════

📋 ШАГ 1: Удалить старую базу данных

1. Откройте: https://railway.app
2. Выберите ваш проект
3. Найдите сервис "PostgreSQL"
4. Нажмите на него
5. Settings → Danger → Delete Service
6. Подтвердите удаление

═══════════════════════════════════════════════════════════

📋 ШАГ 2: Создать новую базу данных

1. В проекте нажмите "+ New"
2. Выберите "Database"
3. Выберите "Add PostgreSQL"
4. Дождитесь создания (30 секунд)

═══════════════════════════════════════════════════════════

📋 ШАГ 3: Обновить переменные бота

1. Откройте новый PostgreSQL сервис
2. Вкладка "Variables"
3. Найдите "DATABASE_URL" и скопируйте значение
4. Откройте сервис с ботом (start.py)
5. Вкладка "Variables"
6. Найдите "DATABASE_URL"
7. Вставьте новое значение
8. ВАЖНО: Добавьте "+asyncpg" после "postgresql"
   
   Было:
   postgresql://user:pass@host:port/db
   
   Стало:
   postgresql+asyncpg://user:pass@host:port/db

9. Нажмите "Update Variables"

═══════════════════════════════════════════════════════════

📋 ШАГ 4: Перезапуск бота

Бот автоматически перезапустится и:
✅ Создаст все таблицы с правильной структурой
✅ Добавит 3 стандартных квеста
✅ Инициализирует Литву с городами и районами

═══════════════════════════════════════════════════════════

⏰ ВРЕМЯ: 2-3 минуты

═══════════════════════════════════════════════════════════

🎯 РЕЗУЛЬТАТ:

После пересоздания базы данных:
✅ Все таблицы будут созданы заново
✅ Колонка created_at будет в таблице quests
✅ Все ошибки исчезнут
✅ Бот заработает полностью

❌ Старые данные будут удалены (пользователи, товары)
   Но это нормально, так как бот в разработке

═══════════════════════════════════════════════════════════

💡 ПОСЛЕ ПЕРЕСОЗДАНИЯ:

1. Удалите чат с ботом в Telegram
2. Начните новый чат командой /start
3. Проверьте все функции

═══════════════════════════════════════════════════════════

